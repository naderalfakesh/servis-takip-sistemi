(this["webpackJsonpservice-takibi"]=this["webpackJsonpservice-takibi"]||[]).push([[0],{364:function(e,t,a){e.exports=a(468)},369:function(e,t,a){},370:function(e,t,a){},468:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),o=a.n(i),c=(a(369),a(198)),l=a(175),s=a(90),d=(a(370),a(293)),u=a(63),f=a(472),m=a(489),p=a(473),h=a(294),b=Object(d.a)((function(e){return{root:{display:"flex"},drawer:{width:"100%",flexShrink:0},drawerPaper:{width:"100%",position:"relative"}}}));function g(e){var t=b();return r.a.createElement(u.a,{className:t.drawer,variant:"persistent",classes:{paper:t.drawerPaper},anchor:"left",open:e.sideBarToggle},r.a.createElement(m.a,null),r.a.createElement(f.a,null,["Servis Listesi"].map((function(e,t){return r.a.createElement(p.a,{button:!0,key:e,component:l.b,to:"/"},r.a.createElement(h.a,{primary:e}))}))),r.a.createElement(m.a,null))}var E=a(355),v=a(176),O=a(177),j=a(192),w=a(178),y=a(193),S=a(334),D=a.n(S),k=a(341),R=a.n(k),L=a(351),T=a.n(L),A=a(342),P=a.n(A),x=a(349),C=a.n(x),G=a(238),I=a.n(G),N=a(237),Y=a.n(N),B=a(343),K=a.n(B),z=a(344),H=a.n(z),F=a(346),J=a.n(F),M=a(347),U=a.n(M),V=a(348),Z=a.n(V),W=a(352),X=a.n(W),q=a(345),Q=a.n(q),$=a(350),_=a.n($),ee=a(353),te=a.n(ee),ae={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(J.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(U.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(X.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))}))};function ne(e){return r.a.createElement(D.a,{title:"Servis Takip Listesi",icons:ae,columns:e.columns,data:e.data,style:{minHeight:"100vh"},isLoading:e.isLoading,options:{exportButton:!1,filtering:!1,addRowPosition:"first",paginationType:"stepped",pageSize:10},editable:{onRowAdd:function(t){return e.handleAdd(t),new Promise((function(e){e()}))},onRowUpdate:function(t,a){return e.handleEdit(t),new Promise((function(e){e()}))},onRowDelete:function(t){return e.handleDelete(t),new Promise((function(e){e()}))}},localization:{toolbar:{nRowsSelected:"{0} SATIR SE\xc7\u0130LD\u0130"},header:{actions:"AKS\u0130YON"},body:{emptyDataSourceMessage:"G\xd6STER\u0130LECEK SATIR YOK",addTooltip:"Ekle",deleteTooltip:"Sil",editTooltip:"De\u011fi\u015ftir",filterRow:{filterTooltip:"S\xdcZGE\xc7"},editRow:{deleteText:"Bunu silmek istedi\u011finizden emin misiniz?",cancelTooltip:"\u0130ptal",saveTooltip:"Kaydet"},toolbar:{searchTooltip:"Ara",searchPlaceholder:"Ara"}}}})}var re=a(83),ie=a.n(re),oe=(a(461),a(464),a(466),ie.a.initializeApp({apiKey:"AIzaSyD6ecDyNK6bHh3B-b4hLpKc3LZ9fjomYPk",authDomain:"servis-takibi.firebaseapp.com",databaseURL:"https://servis-takibi.firebaseio.com",projectId:"servis-takibi",storageBucket:"servis-takibi.appspot.com",messagingSenderId:"597472903610",appId:"1:597472903610:web:48ca1685e0073445eedd83",measurementId:"G-YJ5XHLG25V"})),ce=oe.firestore(),le=(oe.database(),ie.a.auth()),se=[{title:"M\xfc\u015fteri",field:"customer"},{title:"\xdcr\xfcn",field:"product"},{title:"Sat\u0131\u015f Yetkili ",field:"salesPersonal",lookup:{ha:"Hakan A.",hk:"H\xfcseyin K.",ag:"Alev G."}},{title:"Geli\u015f Tarihi",field:"deliveryDate",type:"date"},{title:"Geli\u015f Yeri",field:"deliveryPlace",lookup:{y:"Yenibosna",s:"Selimpa\u015fa"}},{title:"Teslim alan",field:"personal"},{title:"G\xf6rsel durum",field:"inspection"},{title:"Gidi\u015f Tarihi",field:"dispatchDate",type:"date"},{title:"Gidi\u015f Yeri",field:"dispatchPlace",lookup:{y:"Yenibosna",s:"Selimpa\u015fa"}}],de=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(j.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={servisListesi:[],isLoading:!0},a.servisFetcher=function(){a.setState({isLoading:!0}),ce.collection("services").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data();try{t.deliveryDate=t.deliveryDate.toDate(),t.dispatchDate=t.dispatchDate.toDate()}catch(e){}return Object.assign({},{id:e.id},t)}));a.setState({servisListesi:t,isLoading:!1})}))},a.handleAdd=function(e){e.createdAt=ie.a.firestore.Timestamp.now();try{e.deliveryDate=ie.a.firestore.Timestamp.fromDate(e.deliveryDate)}catch(t){}try{e.dispatchDate=ie.a.firestore.Timestamp.fromDate(e.dispatchDate)}catch(t){}a.setState({isLoading:!0}),ce.collection("services").add(e).then((function(e){console.log(e),a.setState({isLoading:!1})})).catch((function(e){console.error("Error writing document: ",e)}))},a.handleEdit=function(e){try{e.deliveryDate=ie.a.firestore.Timestamp.fromDate(e.deliveryDate)}catch(n){}try{e.dispatchDate=ie.a.firestore.Timestamp.fromDate(e.dispatchDate)}catch(n){}a.setState({isLoading:!0});var t=Object(E.a)({},e);delete t.id,ce.collection("services").doc(e.id).update(t).then((function(){return a.setState({isLoading:!1})}))},a.handleDelete=function(e){a.setState({isLoading:!0}),ce.collection("services").doc(e.id).delete().then((function(){return a.setState({isLoading:!1})}))},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.servisFetcher()}},{key:"render",value:function(){return r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(ne,{data:this.state.servisListesi,columns:se,isLoading:this.state.isLoading,handleAdd:this.handleAdd,handleEdit:this.handleEdit,handleDelete:this.handleDelete}))}}]),t}(n.Component),ue=a(498),fe=a(300),me=a(91),pe=a(316),he=a(228),be=a(354),ge=a.n(be),Ee=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ue.a,{position:"fixed",style:{zIndex:1300}},r.a.createElement(fe.a,null,r.a.createElement(he.a,{edge:"start",onClick:this.props.handleToggle,color:"inherit","aria-label":"menu"},r.a.createElement(ge.a,null)),r.a.createElement(me.a,{variant:"h6",style:{flexGrow:1}},"DalElektrik"),this.props.auth&&r.a.createElement(me.a,null," ",this.props.user.name," "),this.props.auth&&r.a.createElement(pe.a,{color:"inherit",onClick:this.props.handleSignOut},"\xc7\u0131k\u0131\u015f "),!this.props.auth&&r.a.createElement(pe.a,{color:"inherit"},"Ab\xf6ne "),!this.props.auth&&r.a.createElement(pe.a,{color:"inherit"},"Giri\u015f "))))}}]),t}(n.Component),ve=a(315),Oe=Object(d.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},space:{marginTop:"15px"}});function je(e){var t=Oe();return r.a.createElement("div",{className:t.root},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{className:t.root,onSubmit:e.handleLogin},r.a.createElement(ve.a,{label:"Email",name:"email",variant:"outlined",type:"email",autoComplete:"email"}),r.a.createElement(ve.a,{label:"\u015eifre",name:"password",className:t.space,variant:"outlined",type:"password",autoComplete:"current-password"}),r.a.createElement(pe.a,{className:t.space,variant:"contained",color:"primary",type:"submit"},"Giri\u015f yap")))}var we=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(!1),d=Object(c.a)(o,2),u=d[0],f=d[1],m=Object(n.useState)({email:"",name:""}),p=Object(c.a)(m,2),h=p[0],b=p[1];Object(n.useEffect)((function(){le.onAuthStateChanged((function(e){if(e){var t=e.email.split(".")[0];b({email:e.email,name:t}),f(!0)}else b({email:"",name:""}),f(!1)}))}),[]);var E=function(e){e.preventDefault(),le.signInWithEmailAndPassword(e.target.email.value,e.target.password.value).then((function(e){return console.log})).catch((function(e){return console.log}))};return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{basename:"/servis-takip-sistemi"},r.a.createElement("div",null,r.a.createElement(Ee,{handleToggle:function(){return i(!a)},handleSignOut:function(){le.signOut()},auth:u,user:h})),r.a.createElement("div",{className:a?"main":"main full"},r.a.createElement(g,{sideBarToggle:a}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return u?r.a.createElement(de,null):r.a.createElement(s.a,{to:"/login"})}}),r.a.createElement(s.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(je,{handleLogin:E})}})))))};o.a.render(r.a.createElement(we,null),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.239cad00.chunk.js.map