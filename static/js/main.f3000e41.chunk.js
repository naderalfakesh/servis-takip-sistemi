(this["webpackJsonpservice-takibi"]=this["webpackJsonpservice-takibi"]||[]).push([[0],{365:function(e,t,a){e.exports=a(469)},370:function(e,t,a){},469:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),o=(a(370),a(136)),l=a(90),s=a(132),d=a(293),u=a(63),f=a(473),m=a(490),p=a(474),h=a(294),b=a(492),g=a(333),E=a.n(g),v=a(334),O=a.n(v);function j(e){var t=e.sideBarToggle,a=Object(d.a)((function(e){return{drawer:{width:t?"200px":"0",height:"100%"},drawerPaper:{width:"100%",position:"relative"}}}))();return r.a.createElement(u.a,{className:a.drawer,variant:"persistent",classes:{paper:a.drawerPaper},anchor:"left",open:t},r.a.createElement(m.a,null),r.a.createElement(f.a,null,["Servis Listesi 1","Servis Listesi 2"].map((function(e,t){return r.a.createElement(p.a,{button:!0,key:e,component:s.b,to:"/"},r.a.createElement(b.a,null,t%2===0?r.a.createElement(E.a,null):r.a.createElement(O.a,null)),r.a.createElement(h.a,{primary:e}))}))),r.a.createElement(m.a,null))}var w=a(356),y=a(178),S=a(179),D=a(193),k=a(180),R=a(194),L=a(335),T=a.n(L),A=a(342),x=a.n(A),P=a(352),C=a.n(P),G=a(343),I=a.n(G),N=a(350),B=a.n(N),Y=a(239),z=a.n(Y),K=a(238),H=a.n(K),F=a(344),M=a.n(F),J=a(345),U=a.n(J),V=a(347),Z=a.n(V),W=a(348),X=a.n(W),q=a(349),Q=a.n(q),$=a(353),_=a.n($),ee=a(346),te=a.n(ee),ae=a(351),ne=a.n(ae),re=a(354),ie=a.n(re),ce={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(U.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(X.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(ne.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))}))},oe=Object(d.a)({Tablo:{overflow:"hidden"}});function le(e){var t=oe();return r.a.createElement("div",{className:t.Tablo},r.a.createElement(T.a,{title:"Servis Takip Listesi",icons:ce,columns:e.columns,data:e.data,isLoading:e.isLoading,options:{exportButton:!1,filtering:!1,addRowPosition:"first",paginationType:"stepped",pageSize:20,maxBodyHeight:"72vh",minBodyHeight:"72vh",headerStyle:{whiteSpace:"nowrap"},rowStyle:{whiteSpace:"nowrap"}},editable:{onRowAdd:function(t){return e.handleAdd(t),new Promise((function(e){e()}))},onRowUpdate:function(t,a){return e.handleEdit(t),new Promise((function(e){e()}))},onRowDelete:function(t){return e.handleDelete(t),new Promise((function(e){e()}))}},detailPanel:function(e){return r.a.createElement("div",{style:{fontSize:100,textAlign:"center",color:"white",backgroundColor:"#FDD835"}},e.product)},onRowClick:function(e,t,a){return a()},localization:{toolbar:{nRowsSelected:"{0} SATIR SE\xc7\u0130LD\u0130"},header:{actions:"AKS\u0130YON"},body:{emptyDataSourceMessage:"G\xd6STER\u0130LECEK SATIR YOK",addTooltip:"Ekle",deleteTooltip:"Sil",editTooltip:"De\u011fi\u015ftir",filterRow:{filterTooltip:"S\xdcZGE\xc7"},editRow:{deleteText:"Bunu silmek istedi\u011finizden emin misiniz?",cancelTooltip:"\u0130ptal",saveTooltip:"Kaydet"},toolbar:{searchTooltip:"Ara",searchPlaceholder:"Ara"}}}}))}var se=a(83),de=a.n(se),ue=(a(461),a(464),a(467),de.a.initializeApp({apiKey:"AIzaSyD6ecDyNK6bHh3B-b4hLpKc3LZ9fjomYPk",authDomain:"servis-takibi.firebaseapp.com",databaseURL:"https://servis-takibi.firebaseio.com",projectId:"servis-takibi",storageBucket:"servis-takibi.appspot.com",messagingSenderId:"597472903610",appId:"1:597472903610:web:48ca1685e0073445eedd83",measurementId:"G-YJ5XHLG25V"})),fe=ue.firestore(),me=(ue.database(),de.a.auth()),pe=[{title:"M\xfc\u015fteri",field:"customer"},{title:"\xdcr\xfcn",field:"product"},{title:"Sat\u0131\u015f Yetkili ",field:"salesPersonal",lookup:{ha:"Hakan A.",hk:"H\xfcseyin K.",ag:"Alev G."}},{title:"Geli\u015f Tarihi",field:"deliveryDate",type:"date"},{title:"Geli\u015f Yeri",field:"deliveryPlace",lookup:{y:"Yenibosna",s:"Selimpa\u015fa"}},{title:"Teslim alan",field:"personal"},{title:"G\xf6rsel durum",field:"inspection"},{title:"Gidi\u015f Tarihi",field:"dispatchDate",type:"date"},{title:"Gidi\u015f Yeri",field:"dispatchPlace",lookup:{y:"Yenibosna",s:"Selimpa\u015fa"}}],he=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={servisListesi:[],isLoading:!0},a.servisFetcher=function(){a.setState({isLoading:!0}),fe.collection("services").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data();try{t.deliveryDate=t.deliveryDate.toDate(),t.dispatchDate=t.dispatchDate.toDate()}catch(e){}return Object.assign({},{id:e.id},t)}));a.setState({servisListesi:t,isLoading:!1})}))},a.handleAdd=function(e){e.createdAt=de.a.firestore.Timestamp.now();try{e.deliveryDate=de.a.firestore.Timestamp.fromDate(e.deliveryDate)}catch(t){}try{e.dispatchDate=de.a.firestore.Timestamp.fromDate(e.dispatchDate)}catch(t){}a.setState({isLoading:!0}),fe.collection("services").add(e).then((function(e){console.log(e),a.setState({isLoading:!1})})).catch((function(e){console.error("Error writing document: ",e)}))},a.handleEdit=function(e){try{e.deliveryDate=de.a.firestore.Timestamp.fromDate(e.deliveryDate)}catch(n){}try{e.dispatchDate=de.a.firestore.Timestamp.fromDate(e.dispatchDate)}catch(n){}a.setState({isLoading:!0});var t=Object(w.a)({},e);delete t.id,fe.collection("services").doc(e.id).update(t).then((function(){return a.setState({isLoading:!1})}))},a.handleDelete=function(e){a.setState({isLoading:!0}),fe.collection("services").doc(e.id).delete().then((function(){return a.setState({isLoading:!1})}))},a}return Object(R.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.servisFetcher()}},{key:"render",value:function(){return r.a.createElement(le,{data:this.state.servisListesi,columns:pe,isLoading:this.state.isLoading,handleAdd:this.handleAdd,handleEdit:this.handleEdit,handleDelete:this.handleDelete})}}]),t}(n.Component),be=a(500),ge=a(300),Ee=a(91),ve=a(316),Oe=a(229),je=a(355),we=a.n(je),ye=function(e){function t(){return Object(y.a)(this,t),Object(D.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{position:"fixed",style:{zIndex:1300}},r.a.createElement(ge.a,null,r.a.createElement(Oe.a,{edge:"start",onClick:this.props.handleToggle,color:"inherit","aria-label":"menu"},r.a.createElement(we.a,null)),r.a.createElement(Ee.a,{variant:"h6",style:{flexGrow:1}},"DalElektrik"),this.props.auth&&r.a.createElement(Ee.a,null," ",this.props.user.name," "),this.props.auth&&r.a.createElement(ve.a,{color:"inherit",onClick:this.props.handleSignOut},"\xc7\u0131k\u0131\u015f "),!this.props.auth&&r.a.createElement(ve.a,{color:"inherit"},"Ab\xf6ne "),!this.props.auth&&r.a.createElement(ve.a,{color:"inherit"},"Giri\u015f "))),r.a.createElement(ge.a,null))}}]),t}(n.Component),Se=a(315),De=Object(d.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},space:{marginTop:"15px"}});function ke(e){var t=De();return r.a.createElement("div",{className:t.root},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{className:t.root,onSubmit:e.handleLogin},r.a.createElement(Se.a,{label:"Email",name:"email",variant:"outlined",type:"email",autoComplete:"email"}),r.a.createElement(Se.a,{label:"\u015eifre",name:"password",className:t.space,variant:"outlined",type:"password",autoComplete:"current-password"}),r.a.createElement(ve.a,{className:t.space,variant:"contained",color:"primary",type:"submit"},"Giri\u015f yap")))}var Re=a(296),Le=Object(d.a)({App:{maxHeight:"100vh",height:"100vh",overflow:"hidden"},Main:{display:"flex",height:"calc(100% - 64px)",alignItems:"stretch"}});var Te=function(){var e=Le(),t=Object(n.useState)(!0),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),u=d[0],f=d[1],m=Object(n.useState)({email:"",name:""}),p=Object(o.a)(m,2),h=p[0],b=p[1],g=Object(n.useState)(!1),E=Object(o.a)(g,2),v=E[0],O=E[1];Object(n.useEffect)((function(){me.onAuthStateChanged((function(e){if(e){var t=e.email.split(".")[0];b({email:e.email,name:t}),f(!0)}else b({email:"",name:""}),f(!1)}))}),[]);var w=function(e){e.preventDefault(),O(!0),me.signInWithEmailAndPassword(e.target.email.value,e.target.password.value).then((function(e){return O(!1)})).catch((function(e){O(!1),console.log(e)}))};return r.a.createElement("div",{className:e.App},r.a.createElement(ye,{handleToggle:function(){return c(!i)},handleSignOut:function(){O(!0),me.signOut().then((function(e){return O(!1)})).catch((function(e){O(!1),console.log(e)}))},auth:u,user:h}),r.a.createElement("div",{className:e.Main},r.a.createElement(j,{sideBarToggle:i}),v?r.a.createElement(Re.a,null):r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return u?r.a.createElement(he,null):r.a.createElement(l.a,{to:"/login"})}}),r.a.createElement(l.b,{exact:!0,path:"/login",render:function(){return u?r.a.createElement(l.a,{to:"/"}):r.a.createElement(ke,{handleLogin:w})}}))))},Ae=r.a.createElement(s.a,{basename:"/servis-takip-sistemi"},r.a.createElement(Te,null));c.a.render(Ae,document.getElementById("root"))}},[[365,1,2]]]);
//# sourceMappingURL=main.f3000e41.chunk.js.map